<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Crash Game</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
      color: white;
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
    }
    #game-container {
      position: relative;
      height: 300px;
      border-bottom: 2px dashed rgba(255,255,255,0.2);
      background: repeating-linear-gradient(to bottom, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.03) 2px, transparent 2px, transparent 20px);
    }
    #plane {
      position: absolute;
      top: 140px;
      left: 0;
      width: 50px;
      display: none;
    }
    #multiplierFloat {
      position: absolute;
      top: 110px;
      left: 60px;
      font-size: 1.5em;
      font-weight: bold;
      color: #00ff99;
    }
    #explosion {
      position: absolute;
      display: none;
      width: 50px;
      height: 50px;
      background: url('https://cdn-icons-png.flaticon.com/512/483/483361.png') no-repeat center center;
      background-size: contain;
    }
    #smoke {
      position: absolute;
      display: none;
      width: 70px;
      height: 70px;
      background: url('https://cdn-icons-png.flaticon.com/512/1112/1112602.png') no-repeat center center;
      background-size: contain;
      opacity: 0.7;
    }
    h3#wallet {
      font-size: 1.2em;
      margin: 5px 0;
      text-align: center;
    }
    #timer {
      font-size: 1em;
      color: #ffaa00;
      margin-bottom: 10px;
      text-align: center;
    }
    .btn {
      padding: 12px 24px;
      font-size: 16px;
      margin: 10px 5px;
      background: #ff0066;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .btn:disabled {
      background: gray;
    }
    #controls {
      text-align: center;
      margin-top: 20px;
    }
    #betInput {
      width: 80px;
      font-size: 16px;
      padding: 6px;
      margin: 5px;
      border: 2px solid #00ff99;
      border-radius: 6px;
      text-align: center;
    }
    .quick-bet {
      padding: 6px 10px;
      margin: 3px;
      background: #333;
      color: #fff;
      border-radius: 6px;
      cursor: pointer;
      border: 1px solid #555;
    }
    #betLabel {
      display: block;
      margin-top: 10px;
      font-size: 1em;
      color: #00ffcc;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <img id="plane" src="favicon.svg" alt="Plane">
    <div id="multiplierFloat">1.00x</div>
    <div id="explosion"></div>
    <div id="smoke"></div>
  </div>
  <h3 id="wallet">Wallet: $100</h3>
  <div id="timer">‚è≥ Loading game...</div>

  <div id="controls">
    <label id="betLabel" for="betInput">üí∞ ÿ£ÿØÿÆŸÑ ŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ±ŸáÿßŸÜ:</label>
    <input id="betInput" type="number" min="1" value="10"> MAD
    <div>
      <span class="quick-bet" onclick="setBet(10)">10</span>
      <span class="quick-bet" onclick="setBet(50)">50</span>
      <span class="quick-bet" onclick="setBet(100)">100</span>
      <span class="quick-bet" onclick="setBet(500)">500</span>
    </div>
    <button class="btn" onclick="resetWallet()">üîÅ Reset</button>
    <button class="btn" id="cashoutBtn" disabled>Cash Out</button>
  </div>

  <audio id="explosionSound" src="https://www.soundjay.com/mechanical/sounds/explosion-01.mp3" preload="auto"></audio>

  <script>
    let multiplier = 1.00, crashed = false, wallet = 100, betAmount = 10;
    let positionX = 0, positionY = 140, interval;

    const plane = document.getElementById('plane');
    const multiplierFloat = document.getElementById('multiplierFloat');
    const walletDisplay = document.getElementById('wallet');
    const timerDisplay = document.getElementById('timer');
    const explosion = document.getElementById('explosion');
    const smoke = document.getElementById('smoke');
    const explosionSound = document.getElementById('explosionSound');
    const betInput = document.getElementById('betInput');
    const cashoutBtn = document.getElementById('cashoutBtn');

    function updateWalletDisplay() {
      walletDisplay.textContent = 'Wallet: $' + wallet.toFixed(2);
    }

    function resetWallet() {
      wallet = 100;
      updateWalletDisplay();
    }

    function setBet(amount) {
      betAmount = amount;
      betInput.value = amount;
    }

    betInput.oninput = () => {
      betAmount = parseFloat(betInput.value);
    }

    function crash() {
      clearInterval(interval);
      crashed = true;
      plane.style.display = 'none';
      explosion.style.left = positionX + 'px';
      explosion.style.top = positionY + 'px';
      smoke.style.left = (positionX - 10) + 'px';
      smoke.style.top = (positionY + 10) + 'px';
      explosion.style.display = 'block';
      smoke.style.display = 'block';
      explosionSound.play();
      multiplierFloat.textContent = 'üí• ' + multiplier.toFixed(2) + 'x';
      timerDisplay.textContent = 'üí•  ÿ®ŸÜÿ™ ÿßŸÑŸÇÿ≠ÿ®ÿ© ÿ™ŸÅÿ±ŸÉÿπÿßÿ™!';
      wallet -= betAmount;
      updateWalletDisplay();
      setTimeout(() => {
        explosion.style.display = 'none';
        smoke.style.display = 'none';
      }, 1500);
      setTimeout(startGame, 3000);
      cashoutBtn.disabled = true;
    }

    function startGame() {
      multiplier = 1.00;
      crashed = false;
      positionX = 0;
      positionY = 140;
      plane.style.left = '0px';
      plane.style.top = positionY + 'px';
      plane.style.display = 'block';
      explosion.style.display = 'none';
      smoke.style.display = 'none';
      multiplierFloat.textContent = '1.00x';
      timerDisplay.textContent = 'üöÄ Ÿáÿß ŸáŸäÿß ÿ∫ÿ∑Ÿäÿ±!';
      cashoutBtn.disabled = false;

      interval = setInterval(() => {
        multiplier += 0.01;
        multiplierFloat.textContent = multiplier.toFixed(2) + 'x';
        positionX += 4;
        positionY -= 0.3;
        plane.style.left = positionX + 'px';
        plane.style.top = positionY + 'px';
        multiplierFloat.style.left = (positionX + 60) + 'px';
        multiplierFloat.style.top = (positionY - 30) + 'px';

        if (Math.random() < 0.01 + multiplier / 100) crash();
      }, 100);
    }

    function cashOut() {
      if (!crashed) {
        clearInterval(interval);
        let win = betAmount * multiplier;
        wallet += win;
        updateWalletDisplay();
        plane.style.display = 'none';
        multiplierFloat.textContent = '‚úÖ ' + multiplier.toFixed(2) + 'x';
        timerDisplay.textContent = '‚úÖ ÿÆŸàÿ±ÿ™ŸáŸÖ!';
        cashoutBtn.disabled = true;
        setTimeout(startGame, 3000);
      }
    }

    cashoutBtn.onclick = cashOut;
    updateWalletDisplay();
    window.onload = () => {
      setTimeout(startGame, 2000);
    };
  </script>
</body>
</html>
