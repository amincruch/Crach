<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Crash Game</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
      color: white;
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
    }
    #game-container {
      position: relative;
      height: 300px;
      border-bottom: 2px dashed rgba(255,255,255,0.2);
      background: repeating-linear-gradient(
        to bottom,
        rgba(255, 255, 255, 0.03),
        rgba(255, 255, 255, 0.03) 2px,
        transparent 2px,
        transparent 20px
      );
      text-align: center;
    }
    #plane {
      position: absolute;
      top: 140px;
      left: 0;
      width: 50px;
      display: none;
    }
    h1#multiplier {
      font-size: 2.2em;
      margin: 10px 0;
      color: #00ff99;
      text-align: center;
    }
    h3#wallet {
      font-size: 1.2em;
      margin: 5px 0;
      text-align: center;
    }
    #timer {
      font-size: 1em;
      color: #ffaa00;
      text-align: center;
      margin-bottom: 10px;
    }
    .btn {
      padding: 12px 24px;
      font-size: 16px;
      margin: 10px 5px;
      background: #ff0066;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .btn:disabled {
      background: gray;
    }
    #players, #chat {
      position: absolute;
      top: 310px;
      bottom: 0;
      overflow-y: auto;
      background: rgba(0, 0, 0, 0.3);
      font-size: 14px;
      padding: 10px;
    }
    #players {
      right: 0;
      width: 200px;
    }
    #chat {
      left: 0;
      width: 200px;
    }
    .chat-message, .player-row {
      margin-bottom: 8px;
    }
    .chat-name {
      color: #00ffcc;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <img id="plane" src="favicon.svg" alt="Plane">
  </div>
  <h1 id="multiplier">1.00x</h1>
  <h3 id="wallet">Wallet: $100</h3>
  <div id="timer">‚è≥ Waiting to start...</div>
  <div style="text-align:center">
    <button class="btn" id="startBtn">Start</button>
    <button class="btn" id="cashoutBtn" disabled>Cash Out</button>
  </div>

  <div id="chat"></div>
  <div id="players"></div>

  <audio id="flySound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b208b1d429.mp3?filename=jet-passby-6964.mp3"></audio>
  <audio id="crashSound" src="https://cdn.pixabay.com/download/audio/2021/09/01/audio_28d274cc45.mp3?filename=explosion-6088.mp3"></audio>
  <audio id="cashoutSound" src="https://cdn.pixabay.com/download/audio/2022/01/06/audio_05d5d32cb8.mp3?filename=coins-4960.mp3"></audio>

  <script>
    let multiplier = 1.00;
    let crashed = false;
    let wallet = 100;
    let betAmount = 10;
    let position = 0;
    let interval;
    let countdown;

    const plane = document.getElementById('plane');
    const multiplierDisplay = document.getElementById('multiplier');
    const walletDisplay = document.getElementById('wallet');
    const timerDisplay = document.getElementById('timer');
    const cashoutBtn = document.getElementById('cashoutBtn');
    const startBtn = document.getElementById('startBtn');

    const flySound = document.getElementById('flySound');
    const crashSound = document.getElementById('crashSound');
    const cashoutSound = document.getElementById('cashoutSound');

    const playersDiv = document.getElementById('players');
    const chatDiv = document.getElementById('chat');

    const names = ["amine", "yassine", "simo", "khalid", "ayoub", "badr", "salma", "ihab", "lina", "kamal"];
    const messages = [
      "ÿ±ÿ®ÿ≠ÿ™ ÿßŸÑÿ≠ŸÖÿØ ŸÑŸÑŸá üí∏",
      "ÿ∂ÿ±ÿ®ŸÜŸä ÿßŸÑÿ¥Ÿäÿ® üò≠",
      "ÿÆÿ±ÿ¨ÿ™ x2.5 üî•",
      "ŸÅŸäŸÜ ÿßŸÑÿ∑Ÿäÿßÿ±ÿ©ÿü!",
      "ÿßŸÑŸÉÿ±ÿßÿ¥ ŸÇÿ±Ÿäÿ® üò¨",
      "ÿÆÿ±ÿ¨ÿ™ ŸÅŸä ÿßŸÑŸàŸÇÿ™ üëå",
      "ÿßŸÑŸÑÿπÿ®ÿ© Ÿàÿßÿπÿ±ÿ© ÿ®ÿ≤ÿßŸÅ",
      "ŸÜÿ≤ŸäÿØ ŸàŸÑÿß ŸÜÿÆÿ±ÿ¨ÿü ü§î",
      "ÿÆÿ≥ÿ±ÿ™ ÿ´ÿßŸÜŸä üò≠",
      "ŸÉÿßŸäŸÜ ÿ¥Ÿä ŸáÿØŸäÿ©ÿü"
    ];

    function updateWalletDisplay() {
      walletDisplay.textContent = 'Wallet: $' + wallet.toFixed(2);
    }

    function crash() {
      clearInterval(interval);
      crashed = true;
      plane.style.display = 'none';
      multiplierDisplay.textContent = 'üí• ' + multiplier.toFixed(2) + 'x';
      wallet -= betAmount;
      updateWalletDisplay();
      crashSound.play();
      timerDisplay.textContent = 'üí• ÿßŸÑÿ∑ÿßÿ¶ÿ±ÿ© ÿ™ŸÅÿ±ŸÉÿπÿßÿ™!';
      startBtn.disabled = false;
      cashoutBtn.disabled = true;
      simulatePlayers();
    }

    function startGame() {
      timerDisplay.textContent = '‚è≥ ÿßŸÑŸÑÿπÿ®ÿ© ÿ™ÿ®ÿØÿ£ ÿ®ÿπÿØ 3 ÿ´ŸàÿßŸÜŸä...';
      let seconds = 3;
      countdown = setInterval(() => {
        seconds--;
        timerDisplay.textContent = '‚è≥ ÿßŸÑŸÑÿπÿ®ÿ© ÿ™ÿ®ÿØÿ£ ÿ®ÿπÿØ ' + seconds + ' ÿ´ÿßŸÜŸäÿ©...';
        if (seconds <= 0) {
          clearInterval(countdown);
          launchGame();
        }
      }, 1000);
    }

    function launchGame() {
      multiplier = 1.00;
      crashed = false;
      position = 0;
      plane.style.left = '0px';
      plane.style.display = 'block';
      startBtn.disabled = true;
      cashoutBtn.disabled = false;
      multiplierDisplay.textContent = '1.00x';
      timerDisplay.textContent = 'üöÄ ÿßŸÑÿ∑ÿßÿ¶ÿ±ÿ© ÿ∑ÿßÿ±ÿ™!';
      flySound.play();
      playersDiv.innerHTML = '';

      interval = setInterval(() => {
        multiplier += 0.01;
        multiplierDisplay.textContent = multiplier.toFixed(2) + 'x';
        position += 5;
        plane.style.left = position + 'px';

        if (Math.random() < 0.01 + multiplier / 100) {
          crash();
        }
      }, 100);
    }

    function cashOut() {
      if (!crashed) {
        clearInterval(interval);
        let win = betAmount * multiplier;
        wallet += win;
        updateWalletDisplay();
        plane.style.display = 'none';
        cashoutSound.play();
        multiplierDisplay.textContent = '‚úÖ ' + multiplier.toFixed(2) + 'x';
        timerDisplay.textContent = '‚úÖ ÿ≥ÿ≠ÿ®ÿ™ Ÿàÿ±ÿ®ÿ≠ÿ™!';
        startBtn.disabled = false;
        cashoutBtn.disabled = true;
        simulatePlayers();
      }
    }

    function simulatePlayers() {
      playersDiv.innerHTML = '';
      for (let i = 0; i < 8; i++) {
        let name = names[Math.floor(Math.random() * names.length)] + Math.floor(Math.random() * 90);
        let bet = Math.floor(Math.random() * 500) + 10;
        let multi = (Math.random() * 4).toFixed(2);
        let earned = (Math.random() > 0.4) ? (bet * multi).toFixed(0) : 0;
        let div = document.createElement('div');
        div.className = 'player-row';
        div.innerHTML = `${name} | x${multi} | ${bet} MAD | ${earned} MAD`;
        playersDiv.appendChild(div);
      }
    }

    function simulateChat() {
      let name = names[Math.floor(Math.random() * names.length)] + Math.floor(Math.random() * 90);
      let message = messages[Math.floor(Math.random() * messages.length)];
      let div = document.createElement('div');
      div.className = 'chat-message';
      div.innerHTML = `<span class="chat-name">${name}:</span> ${message}`;
      chatDiv.appendChild(div);
      chatDiv.scrollTop = chatDiv.scrollHeight;
    }

    setInterval(simulateChat, 3000);

    startBtn.onclick = startGame;
    cashoutBtn.onclick = cashOut;
    updateWalletDisplay();
  </script>
</body>
</html>
